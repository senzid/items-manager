import{j as t,r as h,R as F}from"./index-fcac080b.js";const S=e=>{const{children:s,className:i="primary"}=e;return t.jsx("button",{className:`base-button ${i}`,...e,children:s})};const D=h.memo(({item:e,isFavorite:s,handleFavorites:i})=>t.jsxs("article",{className:"card-container",children:[t.jsx("div",{className:"card-img",children:t.jsx("img",{alt:`image of ${e.title}`,src:e.image})}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"card-content-title",children:[t.jsx("h2",{children:e.title}),t.jsxs(S,{onClick:()=>i(e.title),children:[s?"Remove":"Add"," Favorite"]})]}),t.jsx("p",{children:e.email}),t.jsx("p",{children:t.jsxs("strong",{children:[e.price,"â‚¬"]})}),t.jsx("p",{children:e.description})]})]}));function k(e){return t.jsx(t.Fragment,{children:e.isOpen&&t.jsx("div",{className:"modal-overlay",onClick:e.toggle,children:t.jsx("div",{onClick:s=>s.stopPropagation(),className:"modal-box",children:e.children})})})}const _=({item:e,handleFavorites:s})=>t.jsxs("article",{className:"favcard",children:[t.jsxs("div",{className:"favcard-img-container",children:[t.jsx(S,{className:"close-button",onClick:()=>s(e.title),children:"X"}),t.jsx("img",{src:e.image})]}),t.jsx("div",{className:"favcard-title",children:t.jsx("h2",{children:e.title})})]});var y={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},E=F.createContext&&F.createContext(y),j=globalThis&&globalThis.__assign||function(){return j=Object.assign||function(e){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l])}return e},j.apply(this,arguments)},L=globalThis&&globalThis.__rest||function(e,s){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(i[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)s.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(i[n[l]]=e[n[l]]);return i};function M(e){return e&&e.map(function(s,i){return F.createElement(s.tag,j({key:i},s.attr),M(s.child))})}function O(e){return function(s){return F.createElement($,j({attr:j({},e.attr)},s),M(e.child))}}function $(e){var s=function(i){var n=e.attr,l=e.size,o=e.title,p=L(e,["attr","size","title"]),u=l||i.size||"1em",m;return i.className&&(m=i.className),e.className&&(m=(m?m+" ":"")+e.className),F.createElement("svg",j({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,n,p,{className:m,style:j(j({color:e.color||i.color},i.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&F.createElement("title",null,o),e.children)};return E!==void 0?F.createElement(E.Consumer,null,function(i){return s(i)}):s(y)}function T(e){return O({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"}}]})(e)}function U(e){return O({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M182.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"}}]})(e)}const b=e=>{const{placeholder:s,handleSort:i,handleFilter:n}=e,l=o=>{n(s,o.target.value)};return t.jsxs("div",{className:"input-container",children:[t.jsx("input",{className:"input-text",placeholder:s,onChange:o=>l(o)}),t.jsxs("button",{onClick:()=>i(s),className:"input-icon-container",children:[t.jsx(U,{className:"input-icon"}),t.jsx(T,{className:"input-icon"})]})]})},z=e=>{const s={title:void 0,email:void 0,description:void 0,price:void 0},[i,n]=h.useState(e),[l,o]=h.useState(s),[p,u]=h.useState(!1),m=r=>n([...r]),I=r=>o({...l,...r}),g=(r,d)=>{const a=e;if(r="title",d==="")return m(a);const c=a.filter(v=>v[r].trim().toLowerCase().includes(d.trim().toLowerCase()));m(c)},x=()=>{u(!p)};return h.useEffect(()=>{n(e)},[e]),{filteredFavorites:i,updateFilteredFavorites:m,sortItems:l,updateSortedItems:I,filterFavorites:g,isModalOpen:p,toggleModal:x}},B=({favorites:e,handleFavorites:s,sortList:i,handleFilter:n})=>{const{filteredFavorites:l,sortItems:o,updateSortedItems:p,filterFavorites:u,isModalOpen:m,toggleModal:I}=z(e),g={title:void 0,email:void 0,description:void 0,price:void 0},x=a=>{let c,v=g;o[a]===void 0?c="up":c=o[a]==="up"?"down":"up",v[a]=c,i(a,c),p({...v})},r=u,d=I;return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"header-container",children:[t.jsx(b,{placeholder:"title",handleSort:x,sorted:o.title,handleFilter:n},"title"),t.jsx(b,{placeholder:"email",handleSort:x,sorted:o.email,handleFilter:n},"email"),t.jsx(b,{placeholder:"price",handleSort:x,sorted:o.price,handleFilter:n},"price"),t.jsx(b,{placeholder:"description",handleSort:x,sorted:o.description,handleFilter:n},"description"),t.jsx(S,{onClick:d,children:"Show Favorites"})]}),t.jsx(k,{toggle:d,isOpen:m,children:t.jsxs("div",{className:"items-container",children:[t.jsx("h2",{children:"Favorites"}),t.jsx(b,{placeholder:"Favorite title",handleSort:x,sorted:o.title,handleFilter:r},"fav-title"),l.length>0?l.map(a=>t.jsx(_,{handleFavorites:s,item:a},`favorite_${a.title.trim()}`)):t.jsx("h2",{children:"No favorites added"})]})})]})},A=()=>{const[s,i]=h.useState(5);return{itemsDisplayed:s,addMoreItems:()=>i(s+5)}},H=e=>{const[s,i]=h.useState(e),[n,l]=h.useState([]),o=r=>i([...r]),p=r=>l([...n,...r]),u=r=>l([...r]),m=r=>!!n.find(d=>d.title===r);return{items:s,updateItems:o,favorites:n,handleUpdateFavorites:r=>{if(m(r)){const a=n.filter(c=>c.title!==r);u(a)}else{const a=s.filter(c=>c.title===r);p(a)}},filterElements:(r,d)=>{const a=r==="Favorite title",c=a?n:e;if(a){if(r="title",d==="")return u(c);const v=c.filter(f=>f[r].trim().toLowerCase().includes(d.trim().toLowerCase()));u(v)}else{if(d==="")return o(c);const v=c.filter(f=>f[r].trim().toLowerCase().includes(d.trim().toLowerCase()));o(v)}},sortElements:(r,d)=>{const a=r==="Favorite title";if(a&&n.length===0)return;r=a?"title":r;const c=a?n:s,v=r==="price";d==="down"?c.sort((f,N)=>{const C=v?Number(f[r]):f[r].toUpperCase(),w=v?Number(N[r]):N[r].toUpperCase();return C>w?-1:C<w?1:0}):c.sort((f,N)=>{const C=v?Number(f[r]):f[r].toUpperCase(),w=v?Number(N[r]):N[r].toUpperCase();return C<w?-1:C>w?1:0}),a?u(c):o(c)},isItemFavorite:m}},R=({data:e})=>{const{itemsDisplayed:s,addMoreItems:i}=A(),{items:n,updateItems:l,favorites:o,handleUpdateFavorites:p,filterElements:u,sortElements:m,isItemFavorite:I}=H(e.items.slice(0,s)),g=h.useCallback(p,[o]),x=h.useCallback(m,[n,o]),r=h.useCallback(u,[n,o]),d=()=>{s>25||(i(),l(e.items.slice(0,s+5)))};return t.jsxs(t.Fragment,{children:[t.jsx(B,{favorites:o,handleFavorites:g,sortList:x,handleFilter:r}),t.jsx("section",{className:"items-container",children:n.map(a=>{const c=I(a.title);return t.jsx(D,{isFavorite:c,handleFavorites:g,item:a},`item_${a.title.trim()}`)})}),t.jsx("div",{className:"footer-button",children:t.jsx(S,{onClick:d,children:"View More"})})]})};export{R as default};
