import{j as t,r as j,R as C}from"./index-ae95f1df.js";const I=e=>{const{children:s,className:n="primary"}=e;return t.jsx("button",{className:`base-button ${n}`,...e,children:s})};const E=j.memo(({item:e,isFavorite:s,handleFavorites:n})=>t.jsxs("article",{className:"card-container",children:[t.jsx("div",{className:"card-img",children:t.jsx("img",{src:e.image})}),t.jsxs("div",{className:"card-content",children:[t.jsxs("div",{className:"card-content-title",children:[t.jsx("h2",{children:e.title}),t.jsxs(I,{onClick:()=>n(e.title),children:[s?"Remove":"Add"," Favorite"]})]}),t.jsx("p",{children:e.email}),t.jsx("p",{children:t.jsxs("strong",{children:[e.price,"â‚¬"]})}),t.jsx("p",{children:e.description})]})]}));function $(e){return t.jsx(t.Fragment,{children:e.isOpen&&t.jsx("div",{className:"modal-overlay",onClick:e.toggle,children:t.jsx("div",{onClick:s=>s.stopPropagation(),className:"modal-box",children:e.children})})})}const _=({item:e,handleFavorites:s})=>t.jsxs("article",{className:"favcard",children:[t.jsxs("div",{className:"favcard-img-container",children:[t.jsx(I,{className:"close-button",onClick:()=>s(e.title),children:"X"}),t.jsx("img",{src:e.image})]}),t.jsx("div",{className:"favcard-title",children:t.jsx("h2",{children:e.title})})]});var O={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},S=C.createContext&&C.createContext(O),f=globalThis&&globalThis.__assign||function(){return f=Object.assign||function(e){for(var s,n=1,i=arguments.length;n<i;n++){s=arguments[n];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},f.apply(this,arguments)},z=globalThis&&globalThis.__rest||function(e,s){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&s.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)s.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};function L(e){return e&&e.map(function(s,n){return C.createElement(s.tag,f({key:n},s.attr),L(s.child))})}function k(e){return function(s){return C.createElement(B,f({attr:f({},e.attr)},s),L(e.child))}}function B(e){var s=function(n){var i=e.attr,a=e.size,l=e.title,m=z(e,["attr","size","title"]),h=a||n.size||"1em",v;return n.className&&(v=n.className),e.className&&(v=(v?v+" ":"")+e.className),C.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,m,{className:v,style:f(f({color:e.color||n.color},n.style),e.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&C.createElement("title",null,l),e.children)};return S!==void 0?C.createElement(S.Consumer,null,function(n){return s(n)}):s(O)}function M(e){return k({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M182.6 470.6c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-9.2-9.2-11.9-22.9-6.9-34.9s16.6-19.8 29.6-19.8H288c12.9 0 24.6 7.8 29.6 19.8s2.2 25.7-6.9 34.9l-128 128z"}}]})(e)}function P(e){return k({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M182.6 41.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-9.2 9.2-11.9 22.9-6.9 34.9s16.6 19.8 29.6 19.8H288c12.9 0 24.6-7.8 29.6-19.8s2.2-25.7-6.9-34.9l-128-128z"}}]})(e)}const b=e=>{const{placeholder:s,sorted:n=void 0,handleSort:i,handleFilter:a}=e,l=n==="up",m=n==="down";return t.jsxs("div",{className:"input-container",children:[t.jsx("input",{className:"input-text",placeholder:s,onChange:h=>a(s,h.target.value)}),t.jsxs("button",{onClick:()=>i(s),className:"input-icon-container",children:[t.jsx(P,{className:`input-icon ${l?"up":"down"}`}),t.jsx(M,{className:`input-icon ${m?"up":"down"}`})]})]})},T=({favorites:e,handleFavorites:s,sortList:n,handleFilter:i})=>{const[a,l]=j.useState(!1),[m,h]=j.useState(e),v={title:void 0,email:void 0,description:void 0,price:void 0},[p,y]=j.useState(v);j.useEffect(()=>{h(e)},[e]);const g=o=>{let c,d=v;p[o]===void 0?c="up":c=p[o]==="up"?"down":"up",d[o]=c,n(o,c),y({...p,...d})},r=()=>{l(!a)},u=(o,c)=>{const d=e;if(o="title",c==="")return h([...d]);const x=d.filter(N=>N[o].trim().toLowerCase().includes(c.trim().toLowerCase()));h([...x])};return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"header-container",children:[t.jsx(b,{placeholder:"title",handleSort:g,sorted:p.title,handleFilter:i},"title"),t.jsx(b,{placeholder:"email",handleSort:g,sorted:p.email,handleFilter:i},"email"),t.jsx(b,{placeholder:"price",handleSort:g,sorted:p.price,handleFilter:i},"price"),t.jsx(b,{placeholder:"description",handleSort:g,sorted:p.description,handleFilter:i},"description"),t.jsx(I,{onClick:r,children:"Show Favorites"})]}),t.jsx($,{toggle:r,isOpen:a,children:t.jsxs("div",{className:"items-container",children:[t.jsx("h2",{children:"Favorites"}),t.jsx(b,{placeholder:"Favorite title",handleSort:g,sorted:p.title,handleFilter:u},"fav-title"),m.map(o=>t.jsx(_,{handleFavorites:s,item:o},`favorite_${o.title.trim()}`))]})})]})},D=({data:e})=>{const[s,n]=j.useState(5),[i,a]=j.useState(e.items.slice(0,s)),[l,m]=j.useState([]),h=r=>!!l.find(u=>u.title===r),v=j.useCallback(r=>{if(h(r)){const o=l.filter(c=>c.title!==r);m([...o])}else{const o=i.filter(c=>c.title===r);m([...l,...o])}},[l]),p=j.useCallback((r,u)=>{const o=r==="Favorite title";if(o&&l.length===0)return;r=o?"title":r;const c=o?l:i,d=r==="price";u==="down"?c.sort((x,N)=>{const w=d?Number(x[r]):x[r].toUpperCase(),F=d?Number(N[r]):N[r].toUpperCase();return w>F?-1:w<F?1:0}):c.sort((x,N)=>{const w=d?Number(x[r]):x[r].toUpperCase(),F=d?Number(N[r]):N[r].toUpperCase();return w<F?-1:w>F?1:0}),o?m([...c]):a([...c])},[i,l]),y=j.useCallback((r,u)=>{const o=r==="Favorite title",c=o?l:e.items.slice(0,s);if(o){if(r="title",u==="")return m([...c]);const d=c.filter(x=>x[r].trim().toLowerCase().includes(u.trim().toLowerCase()));m([...d])}else{if(u==="")return a([...c]);const d=c.filter(x=>x[r].trim().toLowerCase().includes(u.trim().toLowerCase()));a([...d])}},[i,l]),g=()=>{s>25||(a([...e.items.slice(0,s+5)]),n(s+5))};return t.jsxs(t.Fragment,{children:[t.jsx(T,{favorites:l,handleFavorites:v,sortList:p,handleFilter:y}),t.jsx("section",{className:"items-container",children:i.map(r=>{const u=h(r.title);return t.jsx(E,{isFavorite:u,handleFavorites:v,item:r},`item_${r.title.trim()}`)})}),t.jsx("div",{className:"footer-button",children:t.jsx(I,{onClick:g,children:"View More"})})]})};export{D as default};
